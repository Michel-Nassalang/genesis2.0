!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).firebase=t()}(this,function(){"use strict";function c(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const r in t)t.hasOwnProperty(r)&&"__proto__"!==r&&(e[r]=c(e[r],t[r]));return e}class i{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(n){return(e,t)=>{e?this.reject(e):this.resolve(t),"function"==typeof n&&(this.promise.catch(()=>{}),1===n.length?n(e):n(e,t))}}}class o extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,r.prototype.create)}}class r{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var r,n=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],a=a?(r=n,a.replace(s,(e,t)=>{var n=r[t];return null!=n?String(n):`<${t}?>`})):"Error",a=`${this.serviceName}: ${a} (${i}).`;return new o(i,a,n)}}const s=/\{\$([^}]+)}/g;function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){if(e===t)return 1;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return;var i=e[o],a=t[o];if(p(i)&&p(a)){if(!u(i,a))return}else if(i!==a)return}for(const s of r)if(!n.includes(s))return;return 1}function p(e){return null!==e&&"object"==typeof e}function n(e,t){const n=new a(e,t);return n.subscribe.bind(n)}class a{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=f),void 0===r.error&&(r.error=f),void 0===r.complete&&(r.complete=f);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f(){}class d{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const h="[DEFAULT]";class m{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new i;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{var n=this.getOrInitializeService({instanceIdentifier:t});n&&r.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:h})}catch(e){}for(var[t,n]of this.instancesDeferred.entries()){t=this.normalizeInstanceIdentifier(t);try{var r=this.getOrInitializeService({instanceIdentifier:t});n.resolve(r)}catch(e){}}}}clearInstance(e=h){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=h){return this.instances.has(e)}getOptions(e=h){return this.instancesOptions.get(e)||{}}initialize(e={}){var{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);var r,i,a=this.getOrInitializeService({instanceIdentifier:n,options:t});for([r,i]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(r)&&i.resolve(a);return a}onInit(e,t){var n=this.normalizeInstanceIdentifier(t);const r=null!==(i=this.onInitCallbacks.get(n))&&void 0!==i?i:new Set;r.add(e),this.onInitCallbacks.set(n,r);var i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){var n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e)===h?void 0:r,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=h){return!this.component||this.component.multipleInstances?e:h}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class g{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);var t=new m(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const v=[];var b;(nt=b=b||{})[nt.DEBUG=0]="DEBUG",nt[nt.VERBOSE=1]="VERBOSE",nt[nt.INFO=2]="INFO",nt[nt.WARN=3]="WARN",nt[nt.ERROR=4]="ERROR",nt[nt.SILENT=5]="SILENT";const _={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},t=b.INFO,y={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},w=(e,t,...n)=>{if(!(t<e.logLevel)){var r=(new Date).toISOString(),i=y[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)}};class e{constructor(e){this.name=e,this._logLevel=t,this._logHandler=w,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in b))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...e),this._logHandler(this,b.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...e),this._logHandler(this,b.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,b.INFO,...e),this._logHandler(this,b.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,b.WARN,...e),this._logHandler(this,b.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...e),this._logHandler(this,b.ERROR,...e)}}class I{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map(e=>{if("VERSION"!==(null==(t=e.getComponent())?void 0:t.type))return null;var t,t=e.getImmediate();return`${t.library}/${t.version}`}).filter(e=>e).join(" ")}}const E="@firebase/app",S="0.7.6",T=new e("@firebase/app");var C;const O="[DEFAULT]",N={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},A=new Map,k=new Map;function P(t,n){try{t.container.addComponent(n)}catch(e){T.debug(`Component ${n.name} failed to register with FirebaseApp ${t.name}`,e)}}function D(e,t){e.container.addOrOverwriteComponent(t)}function L(e){var t=e.name;if(k.has(t))return T.debug(`There were multiple attempts to register component ${t}.`),!1;k.set(t,e);for(const n of A.values())P(n,e);return!0}function R(e,t){return e.container.getProvider(t)}const j=new r("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class M{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new d("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw j.create("app-deleted",{appName:this._name})}}const $="9.3.0";function F(e,t={}){if("object"!=typeof t){const r=t;t={name:r}}var n=Object.assign({name:O,automaticDataCollectionEnabled:!1},t);const r=n.name;if("string"!=typeof r||!r)throw j.create("bad-app-name",{appName:String(r)});var i=A.get(r);if(i){if(u(e,i.options)&&u(n,i.config))return i;throw j.create("duplicate-app",{appName:r})}const a=new g(r);for(const o of k.values())a.addComponent(o);n=new M(e,n,a);return A.set(r,n),n}async function B(e){var t=e.name;A.has(t)&&(A.delete(t),await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function U(e,t,n){let r=null!==(a=N[e])&&void 0!==a?a:e;n&&(r+=`-${n}`);var i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${t}":`];return i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void T.warn(o.join(" "))}L(new d(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}function x(e,t){if(null!==e&&"function"!=typeof e)throw j.create("invalid-log-argument");!function(a,e){for(const t of v){let i=null;e&&e.level&&(i=_[e.level]),t.userLogHandler=null===a?null:(e,t,...n)=>{var r=n.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");t>=(null!==i&&void 0!==i?i:e.logLevel)&&a({level:b[t].toLowerCase(),message:r,args:n,type:e.name})}}}(e,t)}function z(e){var t;t=e,v.forEach(e=>{e.setLogLevel(t)})}C="",L(new d("platform-logger",e=>new I(e),"PRIVATE")),U(E,S,C),U(E,S,"esm2017"),U("fire-js","");var q=Object.freeze({__proto__:null,SDK_VERSION:$,_DEFAULT_ENTRY_NAME:O,_addComponent:P,_addOrOverwriteComponent:D,_apps:A,_clearComponents:function(){k.clear()},_components:k,_getProvider:R,_registerComponent:L,_removeServiceInstance:function(e,t,n=O){R(e,t).clearInstance(n)},deleteApp:B,getApp:function(e=O){var t=A.get(e);if(!t)throw j.create("no-app",{appName:e});return t},getApps:function(){return Array.from(A.values())},initializeApp:F,onLog:x,registerVersion:U,setLogLevel:z,FirebaseError:o});class V{constructor(e,t){this._delegate=e,this.firebase=t,P(e,new d("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),B(this._delegate)))}_getService(e,t=O){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=O){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){P(this._delegate,e)}_addOrOverwriteComponent(e){D(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const H=new r("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function K(i){const a={},o={__esModule:!0,initializeApp:function(e,t={}){var n=F(e,t);if(l(a,n.name))return a[n.name];var r=new i(n,o);return a[n.name]=r},app:s,registerVersion:U,setLogLevel:z,onLog:x,apps:null,SDK_VERSION:$,INTERNAL:{registerComponent:function(n){const r=n.name,t=r.replace("-compat","");{var e;L(n)&&"PUBLIC"===n.type&&(e=(e=s())=>{if("function"!=typeof e[t])throw H.create("invalid-app-argument",{appName:r});return e[t]()},void 0!==n.serviceProps&&c(e,n.serviceProps),o[t]=e,i.prototype[t]=function(...e){const t=this._getService.bind(this,r);return t.apply(this,n.multipleInstances?e:[])})}return"PUBLIC"===n.type?o[t]:null},removeApp:function(e){delete a[e]},useAsService:function(e,t){if("serverAuth"===t)return null;var n=t;return n},modularAPIs:q}};function s(e){if(e=e||O,!l(a,e))throw H.create("no-app",{appName:e});return a[e]}return o.default=o,Object.defineProperty(o,"apps",{get:function(){return Object.keys(a).map(e=>a[e])}}),s.App=i,o}var W=function e(){const t=K(V);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){c(t,e)},createSubscribe:n,ErrorFactory:r,deepExtend:c}),t}();const J=new e("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){J.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const Qt=self.firebase.SDK_VERSION;Qt&&0<=Qt.indexOf("LITE")&&J.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const G=W;U("@firebase/app-compat","0.1.7",void 0);function Y(n){return new Promise(function(e,t){n.onsuccess=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function X(n,r,i){var a,e=new Promise(function(e,t){Y(a=n[r].apply(n,i)).then(e,t)});return e.request=a,e}function Z(e,n,t){t.forEach(function(t){Object.defineProperty(e.prototype,t,{get:function(){return this[n][t]},set:function(e){this[n][t]=e}})})}function Q(t,n,r,e){e.forEach(function(e){e in r.prototype&&(t.prototype[e]=function(){return X(this[n],e,arguments)})})}function ee(t,n,r,e){e.forEach(function(e){e in r.prototype&&(t.prototype[e]=function(){return this[n][e].apply(this[n],arguments)})})}function te(e,r,t,n){n.forEach(function(n){n in t.prototype&&(e.prototype[n]=function(){return e=this[r],(t=X(e,n,arguments)).then(function(e){if(e)return new re(e,t.request)});var e,t})})}function ne(e){this._index=e}function re(e,t){this._cursor=e,this._request=t}function ie(e){this._store=e}function ae(n){this._tx=n,this.complete=new Promise(function(e,t){n.oncomplete=function(){e()},n.onerror=function(){t(n.error)},n.onabort=function(){t(n.error)}})}function oe(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new ae(n)}function se(e){this._db=e}G.registerVersion("firebase","9.3.0","app-compat"),Z(ne,"_index",["name","keyPath","multiEntry","unique"]),Q(ne,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),te(ne,"_index",IDBIndex,["openCursor","openKeyCursor"]),Z(re,"_cursor",["direction","key","primaryKey","value"]),Q(re,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(n){n in IDBCursor.prototype&&(re.prototype[n]=function(){var t=this,e=arguments;return Promise.resolve().then(function(){return t._cursor[n].apply(t._cursor,e),Y(t._request).then(function(e){if(e)return new re(e,t._request)})})})}),ie.prototype.createIndex=function(){return new ne(this._store.createIndex.apply(this._store,arguments))},ie.prototype.index=function(){return new ne(this._store.index.apply(this._store,arguments))},Z(ie,"_store",["name","keyPath","indexNames","autoIncrement"]),Q(ie,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),te(ie,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ee(ie,"_store",IDBObjectStore,["deleteIndex"]),ae.prototype.objectStore=function(){return new ie(this._tx.objectStore.apply(this._tx,arguments))},Z(ae,"_tx",["objectStoreNames","mode"]),ee(ae,"_tx",IDBTransaction,["abort"]),oe.prototype.createObjectStore=function(){return new ie(this._db.createObjectStore.apply(this._db,arguments))},Z(oe,"_db",["name","version","objectStoreNames"]),ee(oe,"_db",IDBDatabase,["deleteObjectStore","close"]),se.prototype.transaction=function(){return new ae(this._db.transaction.apply(this._db,arguments))},Z(se,"_db",["name","version","objectStoreNames"]),ee(se,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(a){[ie,ne].forEach(function(e){a in e.prototype&&(e.prototype[a.replace("open","iterate")]=function(){var e,t=(e=arguments,Array.prototype.slice.call(e)),n=t[t.length-1],r=this._store||this._index,i=r[a].apply(r,t.slice(0,-1));i.onsuccess=function(){n(i.result)}})})}),[ne,ie].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,n){var r=this,i=[];return new Promise(function(t){r.iterateCursor(e,function(e){e?(i.push(e.value),void 0===n||i.length!=n?e.continue():t(i)):t(i)})})})});var ce="@firebase/installations",W="0.5.3";const le=1e4,ue="w:0.5.3",pe="FIS_v2",fe="https://firebaseinstallations.googleapis.com/v1",de=36e5;const he=new r("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function me(e){return e instanceof o&&e.code.includes("request-failed")}function ge({projectId:e}){return`${fe}/projects/${e}/installations`}function ve(e){return{token:e.token,requestStatus:2,expiresIn:(e=e.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()}}async function be(e,t){var n=(await t.json()).error;return he.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function _e({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function ye(e,{refreshToken:t}){const n=_e(e);return n.append("Authorization",(t=t,`${pe} ${t}`)),n}async function we(e){var t=await e();return 500<=t.status&&t.status<600?e():t}function Ie(t){return new Promise(e=>{setTimeout(e,t)})}const Ee=/^[cdef][\w-]{21}$/,Se="";function Te(){try{const t=new Uint8Array(17),n=self.crypto||self.msCrypto;n.getRandomValues(t),t[0]=112+t[0]%16;var e=function(e){const t=function(e){const t=btoa(String.fromCharCode(...e));return t.replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(t);return Ee.test(e)?e:Se}catch(e){return Se}}function Ce(e){return`${e.appName}!${e.appId}`}const Oe=new Map;function Ne(e,t){var n=Ce(e);Ae(n,t),function(e,t){const n=function(){!ke&&"BroadcastChannel"in self&&(ke=new BroadcastChannel("[Firebase] FID Change"),ke.onmessage=e=>{Ae(e.data.key,e.data.fid)});return ke}();n&&n.postMessage({key:e,fid:t});0===Oe.size&&ke&&(ke.close(),ke=null)}(n,t)}function Ae(e,t){var n=Oe.get(e);if(n)for(const r of n)r(t)}let ke=null;const Pe="firebase-installations-store";let De=null;function Le(){var t,e,n;return De=De||(t=e=>{0===e.oldVersion&&e.createObjectStore(Pe)},e=X(indexedDB,"open",["firebase-installations-database",1]),(n=e.request)&&(n.onupgradeneeded=function(e){t&&t(new oe(n.result,e.oldVersion,n.transaction))}),e.then(function(e){return new se(e)})),De}async function Re(e,t){var n=Ce(e);const r=await Le(),i=r.transaction(Pe,"readwrite"),a=i.objectStore(Pe);var o=await a.get(n);return await a.put(t,n),await i.complete,o&&o.fid===t.fid||Ne(e,t.fid),t}async function je(e){var t=Ce(e);const n=await Le(),r=n.transaction(Pe,"readwrite");await r.objectStore(Pe).delete(t),await r.complete}async function Me(e,t){var n=Ce(e);const r=await Le(),i=r.transaction(Pe,"readwrite"),a=i.objectStore(Pe);var o=await a.get(n),s=t(o);return void 0===s?await a.delete(n):await a.put(s,n),await i.complete,!s||o&&o.fid===s.fid||Ne(e,s.fid),s}async function $e(n){let r;var e=await Me(n,e=>{var t=Be(e||{fid:Te(),registrationStatus:0}),t=function(e,t){{if(0!==t.registrationStatus)return 1===t.registrationStatus?{installationEntry:t,registrationPromise:async function(e){let t=await Fe(e);for(;1===t.registrationStatus;)await Ie(100),t=await Fe(e);if(0!==t.registrationStatus)return t;{var{installationEntry:n,registrationPromise:r}=await $e(e);return r||n}}(e)}:{installationEntry:t};if(!navigator.onLine){var n=Promise.reject(he.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=async function(t,n){try{var e=await async function(e,{fid:t}){const n=ge(e);var r=_e(e),i={fid:t,authVersion:pe,appId:e.appId,sdkVersion:ue};const a={method:"POST",headers:r,body:JSON.stringify(i)},o=await we(()=>fetch(n,a));if(o.ok){i=await o.json();return{fid:i.fid||t,registrationStatus:2,refreshToken:i.refreshToken,authToken:ve(i.authToken)}}throw await be("Create Installation",o)}(t,n);return Re(t,e)}catch(e){throw me(e)&&409===e.customData.serverCode?await je(t):await Re(t,{fid:n.fid,registrationStatus:0}),e}}(e,r);return{installationEntry:r,registrationPromise:n}}}(n,t);return r=t.registrationPromise,t.installationEntry});return e.fid===Se?{installationEntry:await r}:{installationEntry:e,registrationPromise:r}}function Fe(e){return Me(e,e=>{if(!e)throw he.create("installation-not-found");return Be(e)})}function Be(e){return 1===(t=e).registrationStatus&&t.registrationTime+le<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Ue({appConfig:e,platformLoggerProvider:t},n){const r=([i,a]=[e,n["fid"]],`${ge(i)}/${a}/authTokens:generate`);var i,a;const o=ye(e,n),s=t.getImmediate({optional:!0});s&&o.append("x-firebase-client",s.getPlatformInfoString());var c={installation:{sdkVersion:ue}};const l={method:"POST",headers:o,body:JSON.stringify(c)},u=await we(()=>fetch(r,l));if(u.ok)return ve(await u.json());throw await be("Generate Auth Token",u)}async function xe(r,i=!1){let a;var e=await Me(r.appConfig,e=>{if(!qe(e))throw he.create("not-registered");var t,n=e.authToken;if(i||2!==(t=n).requestStatus||function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+de}(t)){if(1===n.requestStatus)return a=async function(e,t){let n=await ze(e.appConfig);for(;1===n.authToken.requestStatus;)await Ie(100),n=await ze(e.appConfig);var r=n.authToken;return 0===r.requestStatus?xe(e,t):r}(r,i),e;if(!navigator.onLine)throw he.create("app-offline");n=(t=e,n={requestStatus:1,requestTime:Date.now()},Object.assign(Object.assign({},t),{authToken:n}));return a=async function(t,n){try{var r=await Ue(t,n),e=Object.assign(Object.assign({},n),{authToken:r});return await Re(t.appConfig,e),r}catch(e){throw!me(e)||401!==e.customData.serverCode&&404!==e.customData.serverCode?(r=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),await Re(t.appConfig,r)):await je(t.appConfig),e}}(r,n),n}return e});return a?await a:e.authToken}function ze(e){return Me(e,e=>{if(!qe(e))throw he.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+le<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function qe(e){return void 0!==e&&2===e.registrationStatus}async function Ve(e,t=!1){var n,r=e;return e=r.appConfig,await((n=(await $e(e)).registrationPromise)&&await n),(await xe(r,t)).token}function He(e){return he.create("missing-app-config-values",{valueName:e})}const Ke="installations",We=e=>{var t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw He("App Configuration");if(!e.name)throw He("App Name");for(const t of["projectId","apiKey","appId"])if(!e.options[t])throw He(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:R(t,"platform-logger"),_delete:()=>Promise.resolve()}},Je=e=>{const t=R(e.getProvider("app").getImmediate(),Ke).getImmediate();return{getId:()=>async function(e){var t=e;const{installationEntry:n,registrationPromise:r}=await $e(t.appConfig);return(r||xe(t)).catch(console.error),n.fid}(t),getToken:e=>Ve(t,e)}};L(new d(Ke,We,"PUBLIC")),L(new d("installations-internal",Je,"PRIVATE")),U(ce,W),U(ce,W,"esm2017");const Ge="@firebase/performance",Ye="0.5.3",Xe=Ye,Ze="FB-PERF-TRACE-MEASURE",Qe="@firebase/performance/config",et="@firebase/performance/configexpire";var tt,nt,rt,W="Performance";const it=new r("performance",W,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),at=new e(W);at.logLevel=b.INFO;let ot,st;class ct{constructor(e){if(!(this.window=e))throw it.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){this.performance&&this.performance.mark&&this.performance.mark(e)}measure(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&"undefined"!=typeof navigator&&navigator.cookieEnabled?"object"==typeof indexedDB||(at.info("IndexedDB is not supported by current browswer"),!1):(at.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,n){if(this.PerformanceObserver){const t=new this.PerformanceObserver(e=>{for(const t of e.getEntries())n(t)});t.observe({entryTypes:[e]})}}static getInstance(){return void 0===ot&&(ot=new ct(st)),ot}}let lt;function ut(e,t){var n=e.length-t.length;if(n<0||1<n)throw it.create("invalid String merger input");const r=[];for(let i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}let pt;class ft{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=ut("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=ut("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===pt&&(pt=new ft),pt}}(nt=tt=tt||{})[nt.UNKNOWN=0]="UNKNOWN",nt[nt.VISIBLE=1]="VISIBLE",nt[nt.HIDDEN=2]="HIDDEN";const dt=["firebase_","google_","ga_"],ht=new RegExp("^[a-zA-Z]\\w*$");function mt(){switch(ct.getInstance().document.visibilityState){case"visible":return tt.VISIBLE;case"hidden":return tt.HIDDEN;default:return tt.UNKNOWN}}function gt(e){var t=null===(t=e.options)||void 0===t?void 0:t.appId;if(!t)throw it.create("no app id");return t}const vt="0.0.1",bt={loggingEnabled:!0},_t="FIREBASE_INSTALLATIONS_AUTH";function yt(e,t){var r,i,n=function(){const e=ct.getInstance().localStorage;if(e){var t=e.getItem(et);if(t&&function(e){return Number(e)>Date.now()}(t)){t=e.getItem(Qe);if(t)try{return JSON.parse(t)}catch(e){return}}}}();return n?(It(n),Promise.resolve()):(i=t,function(e){const t=e.getToken();return t.then(e=>{}),t}((r=e).installations).then(e=>{var t=function(e){var t=null===(t=e.options)||void 0===t?void 0:t.projectId;if(!t)throw it.create("no project id");return t}(r.app),n=function(e){var t=null===(t=e.options)||void 0===t?void 0:t.apiKey;if(!t)throw it.create("no api key");return t}(r.app),n=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${t}/namespaces/fireperf:fetch?key=${n}`,{method:"POST",headers:{Authorization:`${_t} ${e}`},body:JSON.stringify({app_instance_id:i,app_instance_id_token:e,app_id:gt(r.app),app_version:Xe,sdk_version:vt})});return fetch(n).then(e=>{if(e.ok)return e.json();throw it.create("RC response not ok")})}).catch(()=>{at.info(wt)}).then(It).then(e=>function(e){const t=ct.getInstance().localStorage;e&&t&&(t.setItem(Qe,JSON.stringify(e)),t.setItem(et,String(Date.now()+60*ft.getInstance().configTimeToLive*60*1e3)))}(e),()=>{}))}const wt="Could not fetch config, will use default configs";function It(e){if(!e)return e;const t=ft.getInstance();var n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=bt.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=Et(t.tracesSamplingRate),t.logNetworkAfterSampling=Et(t.networkRequestsSamplingRate),e}function Et(e){return Math.random()<=e}let St=1,Tt;function Ct(e){var t;return St=2,Tt=Tt||(t=e,function(){const n=ct.getInstance().document;return new Promise(e=>{if(n&&"complete"!==n.readyState){const t=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}().then(()=>function(e){const t=e.getId();return t.then(e=>{lt=e}),t}(t.installations)).then(e=>yt(t,e)).then(()=>Ot(),()=>Ot())),Tt}function Ot(){St=3}const Nt=1e4,At=3,kt=1e3;let Pt=At,Dt=[],Lt=!1;function Rt(e){setTimeout(()=>{if(0!==Pt)return Dt.length?void function(){const e=Dt.splice(0,kt),t=e.map(e=>({source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)})),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ft.getInstance().logSource,log_event:t};!function(e,r){return function(e){var t=ft.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then(e=>(e.ok||at.info("Call to Firebase backend failed."),e.json())).then(e=>{var t=Number(e.nextRequestWaitMillis);let n=Nt;isNaN(t)||(n=Math.max(t,n));t=e.logResponseDetails;Array.isArray(t)&&0<t.length&&"RETRY_REQUEST_LATER"===t[0].responseAction&&(Dt=[...r,...Dt],at.info("Retry transport request later.")),Pt=At,Rt(n)})}(n,e).catch(()=>{Dt=[...e,...Dt],Pt--,at.info(`Tries left: ${Pt}.`),Rt(Nt)})}():Rt(Nt)},e)}function jt(t){return(...e)=>{!function(e){if(!e.eventTime||!e.message)throw it.create("invalid cc log");Dt=[...Dt,e]}({message:t(...e),eventTime:Date.now()})}}let Mt;function $t(e,t){Mt=Mt||jt(Ut),Mt(e,t)}function Ft(e){var t=ft.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&ct.getInstance().requiredApisAvailable()&&(e.isAuto&&mt()!==tt.VISIBLE||(3===St?Bt(e):Ct(e.performanceController).then(()=>Bt(e),()=>Bt(e))))}function Bt(e){var t;!lt||(t=ft.getInstance()).loggingEnabled&&t.logTraceAfterSampling&&setTimeout(()=>$t(e,1),0)}function Ut(e,t){return 0===t?(n={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:xt(e.performanceController.app),network_request_metric:n},JSON.stringify(n)):function(e){const t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);n={application_info:xt(e.performanceController.app),trace_metric:t};return JSON.stringify(n)}(e);var n}function xt(e){return{google_app_id:gt(e),app_instance_id:lt,web_app_info:{sdk_version:Xe,page_url:ct.getInstance().getUrl(),service_worker_status:"serviceWorker"in(t=ct.getInstance().navigator)?t.serviceWorker.controller?2:3:1,visibility_state:mt(),effective_connection_type:function(){var e=ct.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var t}const zt=["_fp","_fcp","_fid"];class qt{constructor(e,t,n=!1,r){this.performanceController=e,this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=ct.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=r||`${Ze}-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw it.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw it.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Ft(this)}record(e,t,n){if(e<=0)throw it.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw it.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Object.assign({},n.attributes)),n&&n.metrics)for(const r of Object.keys(n.metrics))isNaN(Number(n.metrics[r]))||(this.counters[r]=Number(Math.floor(n.metrics[r])));Ft(this)}incrementMetric(e,t=1){void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)}putMetric(e,t){if(r=e,i=this.name,0===r.length||100<r.length||!(i&&i.startsWith("_wt_")&&-1<zt.indexOf(r))&&r.startsWith("_"))throw it.create("invalid custom metric name",{customMetricName:e});var n,r,i;this.counters[e]=(t=t,(n=Math.floor(t))<t&&at.info(`Metric value should be an Integer, setting the value as : ${n}.`),n)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){var n,r,i=!(0===(n=e).length||40<n.length)&&(!dt.some(e=>n.startsWith(e))&&!!n.match(ht)),a=0!==(r=t).length&&r.length<=100;if(i&&a)this.customAttributes[e]=t;else{if(!i)throw it.create("invalid attribute name",{attributeName:e});if(!a)throw it.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){var e=this.api.getEntriesByName(this.traceMeasure),e=e&&e[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,n,r){var i=ct.getInstance().getUrl();if(i){const a=new qt(e,"_wt_"+i,!0);i=Math.floor(1e3*ct.getInstance().getTimeOrigin());a.setStartTime(i),t&&t[0]&&(a.setDuration(Math.floor(1e3*t[0].duration)),a.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),a.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),a.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));n&&((i=n.find(e=>"first-paint"===e.name))&&i.startTime&&a.putMetric("_fp",Math.floor(1e3*i.startTime)),(i=n.find(e=>"first-contentful-paint"===e.name))&&i.startTime&&a.putMetric("_fcp",Math.floor(1e3*i.startTime)),r&&a.putMetric("_fid",Math.floor(1e3*r))),Ft(a)}}static createUserTimingTrace(e,t){Ft(new qt(e,t,!1,t))}}function Vt(e,t){const n=t;var r,i,a;n&&void 0!==n.responseStart&&(a=ct.getInstance().getTimeOrigin(),r=Math.floor(1e3*(n.startTime+a)),i=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,a=Math.floor(1e3*(n.responseEnd-n.startTime)),function(e){const t=ft.getInstance();var n,r,i;t.instrumentationEnabled&&(n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0],n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout(()=>$t(e,0),0))}({performanceController:e,url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:a}))}const Ht=5e3;function Kt(e){lt&&(setTimeout(()=>function(n){const e=ct.getInstance(),r=e.getEntriesByType("navigation"),i=e.getEntriesByType("paint");if(e.onFirstInputDelay){let t=setTimeout(()=>{qt.createOobTrace(n,r,i),t=void 0},Ht);e.onFirstInputDelay(e=>{t&&(clearTimeout(t),qt.createOobTrace(n,r,i,e))})}else qt.createOobTrace(n,r,i)}(e),0),setTimeout(()=>function(t){const e=ct.getInstance(),n=e.getEntriesByType("resource");for(const r of n)Vt(t,r);e.setupObserver("resource",e=>Vt(t,e))}(e),0),setTimeout(()=>function(t){const e=ct.getInstance(),n=e.getEntriesByType("measure");for(const r of n)Wt(t,r);e.setupObserver("measure",e=>Wt(t,e))}(e),0))}function Wt(e,t){const n=t.name;n.substring(0,Ze.length)!==Ze&&qt.createUserTimingTrace(e,n)}class Jt{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==(null==e?void 0:e.dataCollectionEnabled)&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==(null==e?void 0:e.instrumentationEnabled)&&(this.instrumentationEnabled=e.instrumentationEnabled),ct.getInstance().requiredApisAvailable()?new Promise((t,n)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var e;n((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){n(e)}}).then(e=>{e&&(Lt||(Rt(5500),Lt=!0),Ct(this).then(()=>Kt(this),()=>Kt(this)),this.initialized=!0)}).catch(e=>{at.info(`Environment doesn't support IndexedDB: ${e}`)}):at.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){ft.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return ft.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){ft.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return ft.getInstance().dataCollectionEnabled}}const Gt="[DEFAULT]";const Yt=(e,{options:t})=>{var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(n.name!==Gt)throw it.create("FB not default");if("undefined"==typeof window)throw it.create("no window");e=window,st=e;const i=new Jt(n,r);return i._init(t),i};L(new d("performance",Yt,"PUBLIC")),U(Ge,Ye),U(Ge,Ye,"esm2017");class Xt{constructor(e,t){this.app=e,this._delegate=t}get instrumentationEnabled(){return this._delegate.instrumentationEnabled}set instrumentationEnabled(e){this._delegate.instrumentationEnabled=e}get dataCollectionEnabled(){return this._delegate.dataCollectionEnabled}set dataCollectionEnabled(e){this._delegate.dataCollectionEnabled=e}trace(e){return t=this._delegate,n=e,t=(e=t)&&e._delegate?e._delegate:e,new qt(t,n);var t,n}}function Zt(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("performance").getImmediate();return new Xt(t,n)}(rt=G).INTERNAL.registerComponent(new d("performance-compat",Zt,"PUBLIC")),rt.registerVersion("@firebase/performance-compat","0.1.3");return G.registerVersion("firebase","9.3.0","compat-lite"),G});
//# sourceMappingURL=firebase-performance-standalone-compat.js.map
